<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è®¢å•ç¡®è®¤ - MovieTicket</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", Helvetica, Arial, sans-serif;
      background-color: #ffffff;
      color: #000000;
      line-height: 1.6;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 32px 24px;
    }
    .header {
      margin-bottom: 32px;
    }
    .logo {
      font-size: 22px;
      font-weight: bold;
      color: #0066cc;
      text-decoration: none;
    }
    .order-info {
      margin-bottom: 32px;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
      background: #fff;
    }
    .order-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 16px;
    }
    .order-item {
      margin-bottom: 12px;
    }
    .order-label {
      color: #666;
      font-size: 15px;
    }
    .order-value {
      font-size: 16px;
    }
    .total-price {
      font-size: 20px;
      font-weight: bold;
      color: #e50914;
      margin-top: 24px;
    }
    .confirm-btn {
      width: 100%;
      padding: 14px;
      font-size: 18px;
      font-weight: bold;
      background: #e50914;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .confirm-btn:hover {
      background: #c20710;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <a href="user-home.html" class="logo">ğŸ¬ MovieTicket</a>
    </div>

    <div class="order-info">
      <div class="order-title">ğŸŸï¸ è®¢å•ç¡®è®¤</div>
      
      <div class="order-item">
        <span class="order-label">ç”µå½±ï¼š</span>
        <span id="movie-name" class="order-value"></span>
      </div>
      <div class="order-item">
        <span class="order-label">åœºæ¬¡ï¼š</span>
        <span id="show-time" class="order-value"></span>
      </div>
      <div class="order-item">
        <span class="order-label">å½±å…ï¼š</span>
        <span id="hall-name" class="order-value">3å·å…</span>
      </div>
      <div class="order-item">
        <span class="order-label">åº§ä½ï¼š</span>
        <span id="selected-seats" class="order-value"></span>
      </div>
      <div class="total-price" id="total-price"></div>
    </div>

    <button id="pay-btn" class="confirm-btn">ç¡®è®¤æ”¯ä»˜ Â¥<span id="pay-amount"></span></button>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const movie = urlParams.get('movie') || 'æœªçŸ¥å½±ç‰‡';
    const date = urlParams.get('date') || 'æœªçŸ¥æ—¥æœŸ';
    const time = urlParams.get('time') || 'æœªçŸ¥æ—¶é—´';
    const seatsParam = urlParams.get('seats');
    const seats = seatsParam ? decodeURIComponent(seatsParam).split(',') : [];
    const pricePerSeat = 45;
    const total = seats.length * pricePerSeat;

    if (seats.length === 0) {
      alert('æœªé€‰æ‹©åº§ä½ï¼Œè¯·è¿”å›é€‰åº§é¡µé¢ã€‚');
      window.location.href = 'user-seat-select.html';
    }

    document.getElementById('movie-name').textContent = movie;
    document.getElementById('show-time').textContent = `${date} ${time}`;
    document.getElementById('selected-seats').textContent = seats.join(', ');
    document.getElementById('total-price').textContent = `æ€»ä»·ï¼šÂ¥${total}`;
    document.getElementById('pay-amount').textContent = total;

    document.getElementById('pay-btn').addEventListener('click', () => {
      alert(`âœ… æ”¯ä»˜æˆåŠŸï¼\n\nç”µå½±ï¼š${movie}\næ—¶é—´ï¼š${date} ${time}\nåº§ä½ï¼š${seats.join(', ')}\né‡‘é¢ï¼šÂ¥${total}`);
      // å®é™…é¡¹ç›®ä¸­å¯è·³è½¬è‡³â€œæˆ‘çš„è®¢å•â€æˆ–é¦–é¡µ
      window.location.href = 'user-home.html';
    });
  </script>
</body>
</html>