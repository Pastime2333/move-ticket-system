<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å½±ç‰‡ç®¡ç† - MovieTicket Admin</title>
  <style>
    :root { --el-color-primary: #409EFF; --el-bg-color: #f5f7fa; --el-border-color: #dcdfe6; }
    * { margin:0; padding:0; box-sizing:border-box; font-family:sans-serif; }
    body { background:var(--el-bg-color); padding:20px; }
    .sidebar { width:200px; position:fixed; height:100vh; background:white; border-right:1px solid var(--el-border-color); padding:20px 0; }
    .main { margin-left:220px; padding:20px; }
    .menu-item { padding:12px 24px; cursor:pointer; color:#606266; }
    .menu-item:hover { background:#ecf5ff; color:var(--el-color-primary); }
    .menu-item:nth-child(2) { background:#ecf5ff; color:var(--el-color-primary); }
    .btn-primary { padding:8px 16px; background:var(--el-color-primary); color:white; border:none; border-radius:4px; cursor:pointer; margin-bottom:20px; }
    table { width:100%; border-collapse:collapse; background:white; margin-top:10px; border-radius:8px; overflow:hidden; }
    th, td { padding:12px; text-align:left; border-bottom:1px solid var(--el-border-color); }
    th { background:#f8f9fa; }
    .tag.success { background:#f0f9eb; color:#67C23A; padding:2px 8px; border-radius:10px; font-size:12px; }
    .tag.danger { background:#fef0f0; color:#F56C6C; padding:2px 8px; border-radius:10px; font-size:12px; }
    .btn-outline { padding:4px 10px; background:transparent; border:1px solid var(--el-color-primary); color:var(--el-color-primary); border-radius:4px; cursor:pointer; margin-right:6px; }
    .btn-danger { padding:4px 10px; background:#fef0f0; color:#F56C6C; border:none; border-radius:4px; cursor:pointer; }

    
  </style>
  <style>
  /* æ¨¡æ€æ¡†é®ç½© */
  .modal-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.4);
    display: none; /* é»˜è®¤éšè— */
    justify-content: center;
    align-items: center;
    z-index: 999;
  }

  /* æ¨¡æ€æ¡†ä¸»ä½“ */
  .modal {
    width: 600px;
    background: white;
    border-radius: 10px;
    padding: 24px 28px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    animation: fadeIn 0.25s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to   { opacity: 1; transform: scale(1); }
  }

  .modal-header {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 16px;
    color: #303133;
  }

  .modal-row {
    margin-bottom: 14px;
  }

  .modal-row label {
    display: block;
    font-size: 14px;
    margin-bottom: 4px;
    color: #606266;
  }

  .modal-row input,
  .modal-row textarea,
  .modal-row select {
    width: 100%;
    padding: 8px 10px;
    border: 1px solid var(--el-border-color);
    border-radius: 4px;
    font-size: 14px;
  }

  .modal-row textarea {
    resize: vertical;
    height: 80px;
  }

  .modal-footer {
    text-align: right;
    margin-top: 16px;
  }

  .btn-cancel {
    padding: 8px 16px;
    border: 1px solid #dcdfe6;
    background: white;
    color: #606266;
    border-radius: 4px;
    cursor: pointer;
    margin-right: 10px;
  }

  .btn-cancel:hover {
    background: #f5f7fa;
  }
</style>

</head>
<body>
  <div class="sidebar">
    <div style="padding:0 24px 20px; font-weight:bold; color:var(--el-color-primary);">MovieTicket Admin</div>
    <div class="menu-item">ä»ªè¡¨ç›˜</div>
    <div class="menu-item">å½±ç‰‡ç®¡ç†</div>
    <div class="menu-item">æ’ç‰‡ç®¡ç†</div>
    <div class="menu-item">è®¢å•ç®¡ç†</div>
    <div class="menu-item">ç”¨æˆ·ç®¡ç†</div>
  </div>

  <div class="main">
    <h1>ğŸ¬ å½±ç‰‡ç®¡ç†</h1>
    <p style="color:#606266; margin-bottom:16px;">ç»´æŠ¤å½±ç‰‡åŸºæœ¬ä¿¡æ¯ï¼Œæ§åˆ¶ä¸Šæ˜ /ä¸‹æ¶çŠ¶æ€</p>

    <button class="btn-primary">+ æ–°å¢å½±ç‰‡</button>

    <table>
      <thead>
        <tr>
          <th>æµ·æŠ¥</th>
          <th>ç‰‡å</th>
          <th>å¯¼æ¼”</th>
          <th>ç±»å‹</th>
          <th>æ—¶é•¿</th>
          <th>çŠ¶æ€</th>
          <th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><div style="width:60px; height:80px; background:#eee; border-radius:4px;"></div></td>
          <td>å¥¥æœ¬æµ·é»˜</td>
          <td>å…‹é‡Œæ–¯æ‰˜å¼—Â·è¯ºå…°</td>
          <td>ä¼ è®° / å†å²</td>
          <td>180åˆ†é’Ÿ</td>
          <td><span class="tag.success">ä¸Šæ˜ ä¸­</span></td>
          <td>
            <button class="btn-outline">ç¼–è¾‘</button>
            <button class="btn-danger">ä¸‹æ¶</button>
          </td>
        </tr>
        <tr>
          <td><div style="width:60px; height:80px; background:#eee; border-radius:4px;"></div></td>
          <td>æ²™ä¸˜2</td>
          <td>ä¸¹å°¼æ–¯Â·ç»´ä¼¦çº½ç“¦</td>
          <td>ç§‘å¹» / å†’é™©</td>
          <td>166åˆ†é’Ÿ</td>
          <td><span class="tag.success">ä¸Šæ˜ ä¸­</span></td>
          <td>
            <button class="btn-outline">ç¼–è¾‘</button>
            <button class="btn-danger">ä¸‹æ¶</button>
          </td>
        </tr>
        <tr>
          <td><div style="width:60px; height:80px; background:#eee; border-radius:4px;"></div></td>
          <td>æ­»ä¾3</td>
          <td>è‚–æ©Â·åˆ©ç»´</td>
          <td>åŠ¨ä½œ / å–œå‰§</td>
          <td>120åˆ†é’Ÿ</td>
          <td><span class="tag.danger">æœªä¸Šæ˜ </span></td>
          <td>
            <button class="btn-outline">ç¼–è¾‘</button>
            <button class="btn-primary" style="padding:4px 8px; font-size:13px;">ä¸Šæ¶</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- æ–°å¢å½±ç‰‡æ¨¡æ€æ¡† -->
<div class="modal-mask" id="modalAddMovie">
  <div class="modal">
    <div class="modal-header">æ–°å¢å½±ç‰‡</div>

    <div class="modal-body">

      <div class="modal-row">
        <label>å½±ç‰‡ä¸­æ–‡å *</label>
        <input id="m-title" type="text" placeholder="è¯·è¾“å…¥å½±ç‰‡åç§°" required>
      </div>

      <div class="modal-row">
        <label>åŸå§‹ç‰‡åï¼ˆè‹±æ–‡åç­‰ï¼‰</label>
        <input id="m-original-title" type="text" placeholder="å¦‚ï¼šOppenheimer">
      </div>

      <div class="modal-row">
        <label>TMDB IDï¼ˆå¯é€‰ï¼‰</label>
        <input id="m-tmdb-id" type="number" placeholder="ç¬¬ä¸‰æ–¹ TMDb å½±ç‰‡å”¯ä¸€ID">
      </div>

      <div class="modal-row">
        <label>ç‰‡é•¿ï¼ˆåˆ†é’Ÿï¼‰ *</label>
        <input id="m-duration" type="number" placeholder="ä¾‹å¦‚ï¼š150">
      </div>

      <div class="modal-row">
        <label>ä¸Šæ˜ æ—¥æœŸï¼ˆä¸­å›½å¤§é™†ï¼‰ *</label>
        <input id="m-release" type="date">
      </div>

      <div class="modal-row">
        <label>è¯­è¨€</label>
        <input id="m-language" type="text" placeholder="å¦‚ Chinese / English">
      </div>

      <div class="modal-row">
        <label>åˆ¶ç‰‡å›½å®¶æˆ–åœ°åŒº</label>
        <input id="m-country" type="text" placeholder="å¦‚ China / USA">
      </div>

      <div class="modal-row">
        <label>å†…å®¹åˆ†çº§</label>
        <input id="m-rating" type="text" placeholder="å¦‚ PG-13">
      </div>

      <div class="modal-row">
        <label>å‰§æƒ…ç®€ä»‹</label>
        <textarea id="m-synopsis" placeholder="è¯·è¾“å…¥å½±ç‰‡å‰§æƒ…ç®€ä»‹"></textarea>
      </div>

      <div class="modal-row">
        <label>æµ·æŠ¥å›¾ç‰‡ URL *</label>
        <input id="m-poster" type="text" placeholder="https://example.com/poster.jpg">
      </div>

      <div class="modal-row">
        <label>èƒŒæ™¯å›¾ URL</label>
        <input id="m-backdrop" type="text" placeholder="https://example.com/backdrop.jpg">
      </div>

      <div class="modal-row">
        <label>å½±ç‰‡çŠ¶æ€ *</label>
        <select id="m-status">
          <option value="upcoming">å³å°†ä¸Šæ˜ </option>
          <option value="released">å·²ä¸Šæ˜ </option>
          <option value="removed">å·²ä¸‹æ¶</option>
        </select>
      </div>

    </div>

    <div class="modal-footer">
      <button class="btn-cancel" onclick="closeAddMovie()">å–æ¶ˆ</button>
      <button class="btn-primary" onclick="submitMovie()">ä¿å­˜</button>
    </div>
  </div>
</div>


<script>
  // æ‰“å¼€æ–°å¢å½±ç‰‡æ¨¡æ€æ¡†
  document.querySelector(".btn-primary").onclick = function () {
    document.getElementById("modalAddMovie").style.display = "flex";
  };

  // å…³é—­æ¨¡æ€æ¡†
  function closeAddMovie() {
    document.getElementById("modalAddMovie").style.display = "none";
  }

  // ä¿å­˜æ–°å¢å½±ç‰‡
  function submitMovie() {
    const data = {
      title: document.getElementById("m-title").value.trim(),
      original_title: document.getElementById("m-original-title").value.trim(),
      tmdb_id: document.getElementById("m-tmdb-id").value.trim(),
      duration: document.getElementById("m-duration").value,
      release_date: document.getElementById("m-release").value,
      language: document.getElementById("m-language").value.trim(),
      country: document.getElementById("m-country").value.trim(),
      rating: document.getElementById("m-rating").value.trim(),
      synopsis: document.getElementById("m-synopsis").value.trim(),
      poster_url: document.getElementById("m-poster").value.trim(),
      backdrop_url: document.getElementById("m-backdrop").value.trim(),
      status: document.getElementById("m-status").value
    };

    // åŸºç¡€æ ¡éªŒ
    if (!data.title) return alert("å½±ç‰‡åç§°ä¸èƒ½ä¸ºç©º");
    if (!data.duration) return alert("è¯·å¡«å†™ç‰‡é•¿");
    if (!data.release_date) return alert("è¯·é€‰æ‹©ä¸Šæ˜ æ—¥æœŸ");
    if (!data.poster_url) return alert("è¯·å¡«å†™æµ·æŠ¥ URL");

    // è¿™é‡Œä½ å¯åŠ å…¥ Ajax æˆ– Fetch æäº¤åˆ°åç«¯
    console.log("æ–°å¢å½±ç‰‡ï¼š", data);

    alert("å½±ç‰‡å·²æˆåŠŸæ·»åŠ ï¼");

    closeAddMovie();
  }
</script>

</body>
</html>